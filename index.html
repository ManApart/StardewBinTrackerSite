<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link rel="shortcut icon" type="image/png" href="resources/Cow.png" />
  <title>Stardew Bin Tracker</title>

  <link rel="stylesheet" type="text/css" href="CSS/styles.css">
  <script src="./dependencies/jquery.js"></script>
  <script src="./dependencies/jquery.csv.js"></script>
  <script src="./dependencies/mustache.js"></script>
  <script src="./dependencies/chart.js"></script>
  <script src="./main.js"></script>
  <script src="./fileParser.js"></script>
  <script src="./chartHelper.js"></script>
  <script src="./resources/sampleData.js"></script>

</head>

<body class="main_background">
  <div>
    <div style="margin-top: 5%;"></div>
    <div class="menu_border">
      <div id="instructions">
        <h2>Want to track your stats?</h2>
        <div class="instructions">
          <p>1) <a href="http://www.nexusmods.com/stardewvalley/mods/321/?" target="_blank">Download the mod from the nexus, and install it.</a></p>
          <p>2) Play the game with the mod enabled.</p>
          <p>3) Get the stats file from:
            <pre>%AppData%\Roaming\StardewValley\Mods\Shipment Tracker</pre>
          </p>
          <p>4) Click the shipping bin below to load the stats into the graph!</p>
        </div>
      </div>

      <div id="year-view" class="graph">
        <script id="year-view-title-template" type="x-tmpl-mustache">
          {{name}}'s Profit in Year {{year}}
        </script>
        <div id="year-view-title"></div>

        <canvas id="year-chart" width="400" height="400" style="width: 400px; height: 400px;"></canvas>
        <input type="image" src="resources/Arrow_Left.png" alt="Previous" class="grow arrow" onclick="setYearView(year - 1)" />
        <input type="image" src="resources/Back_Button.png" alt="Back" disabled class="faded back-button" />
        <input type="image" src="resources/Arrow_Right.png" alt="Next" class="grow arrow" onclick="setYearView(year + 1)" />
      </div>
      <div id="season-view" class="graph">
        <script id="season-view-title-template" type="x-tmpl-mustache">
          {{name}}'s Profit in {{season}} of Year {{year}}
        </script>
        <div id="season-view-title"></div>
        <canvas id="season-chart" width="400" height="400"></canvas>

        <input type="image" src="resources/Arrow_Left.png" alt="Previous" class="grow arrow" onclick="setSeasonView(year, season - 1)" />
        <input type="image" src="resources/Back_Button.png" alt="Back" class="grow back-button" onclick="setYearView(year)" />
        <input type="image" src="resources/Arrow_Right.png" alt="Next" class="grow arrow" onclick="setSeasonView(year, season + 1)" />
      </div>
      <div id="day-view">
        <script id="day-table-template" type="x-tmpl-mustache">
          {{name}}'s Profit in day {{dayData.day}} of {{season}}, Year {{dayData.year}}
          {{#dayData}}
            <div>Total: ${{getTotal}}</div>
            <table>
              <tr>
                {{#categories}}
                  {{#.}}
                    <td>
                      <table>
                        <tr>
                          <td class="crop-header" style="color: {{color}}">{{name}}</td>
                        </tr>
                        {{#trackedCrops}}
                        <tr><td>
                        {{name}}: {{count}} * ${{price}}
                        </tr></td>
                        {{/trackedCrops}}
                      </table>
                    </td>
                  {{/.}}
                {{/categories}}
              </tr>
            </table>
        {{/dayData}}
			</script>

        <div id="day-table"></div>

        <input type="image" src="resources/Arrow_Left.png" alt="Previous" class="grow arrow" onclick="setDayView(year, season, day - 1)" />
        <input type="image" src="resources/Back_Button.png" alt="Back" class="grow back-button" onclick="setSeasonView(year, season)" />
        <input type="image" src="resources/Arrow_Right.png" alt="Next" class="grow arrow" onclick="setDayView(year, season, day + 1)" />
      </div>
    </div>

    <div style="text-align: center;">
      <div id="shipping-bin-wrapper">
        <label for="shipping-bin" class="ship_bin">
          <div class="ship_bin"></div>
        </label>
        <input id="shipping-bin" type="file" style="display: none;" />
      </div>
    </div>
  </div>



</body>

</html>